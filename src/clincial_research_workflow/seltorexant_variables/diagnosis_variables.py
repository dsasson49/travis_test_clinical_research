import os, sys
currentdir = os.path.dirname(os.path.realpath(__file__))
parentdir = os.path.dirname(currentdir)
sys.path.append(parentdir)
from variables import ClinicalVariable
diagnosis_variables=[]

#Depression object (inclusion)
mdd_codes=['F32', 'F320', '29623', 'F321', '29620', '29621', 'F323', 'F325', '29626', '2980', 'F324', '29625', '29624', 'F322', 'F329', '29622', '311', 'F3289', '29682', 'F3281', '6254']
mdd_var=ClinicalVariable('mdd inclusion')
mdd_var.add_subvariable(subvariable_name='mdd_codes',category='dx',value=mdd_codes)
mdd_var.add_constraint(['count',[2,30,365],'mdd_codes'])
diagnosis_variables.append(mdd_var)

# psychiatric exclusions
stim_psychosis_codes=['F15.15', 'F15.151','F15.159', '292.89','F15.25', 'F15.259', '292.89','F15.95', '292.89', 'F15.959']
psycho_active_psychosis=['F1925', '29289', 'F19259', 'F1995', '29289', 'F19950', '29212', 'F19951', 'F19959', '29211', 'F1915', '29289', 'F19159']
all_psychosis_codes=stim_psychosis_codes+psycho_active_psychosis
psych_excl_var=ClinicalVariable('psychiatric exclusion')
psych_excl_var.add_subvariable(subvariable_name='psychosis_codes',category='dx',value=all_psychosis_codes)
asd_codes=['29900', '29901', 'F840', 'F845', '29980', '29981']
bpd_codes=['3013', 'F603', '30183']
bipolar_codes=['F31', 'F312', '29680', 'F314', '29644', '2967', '29653', 'F319', '29654', 'F315', '29642', '29652', '29664', 'F3131', 'F3176', 'F3175', '29665', '29640', '29646', 'F3110', 'F3160', 'F3164', 'F3162', 'F3111', '29645', '29656', 'F3112', '29662', 'F3173', '29655', '29666', 'F3174', '29651', '29689', '29643', 'F3181', '29661', '29650', '29663', 'F3163', 'F3161', 'F3130', 'F3132', 'F3177', 'F3113', 'F3178', '29660', '29641']
intellectual_disability_codes=['317', 'F70.0', 'F79.8', 'F72.0', 'F73', 'F78.9', 'F70.8', 'F73.1', 'F78', 'F78.8', 'F79.1', '318.2', '319', 'F72.1', '318.0', 'F73.8', 'F79.9', 'F71.1', 'F73.0', 'F70.9', 'F71.9', 'F79.0', 'F71.0', 'F72.8', 'F78.0', 'F70', 'F79', '318.1', 'F70.1', 'F78.1', 'F71', 'F72', 'F71.8', 'F73.9', 'F72.9']
somatoform_disorder_codes=['F45', '306.53', '306.9', '306.3', 'F45.1', '306.2', '300.82', '306.59', '306.0', 'F45.8', '306.6', '306.7', '300.81', 'F45.0', '306.50', '306.4', '306.1', '300.89', 'F45.9', '306.52', '306.8', '307.89', 'F45.22', 'F45.41', 'F45.42', '307.80', '300.7', 'F45.21']
fibromyalgia_codes=['729.1', 'M79.7']
psych_excl_var.add_subvariable(subvariable_name='asd',category='dx',value=asd_codes)
psych_excl_var.add_subvariable(subvariable_name='bpd',category='dx',value=bpd_codes)
psych_excl_var.add_subvariable(subvariable_name='bipolar',category='dx',value=bipolar_codes)
psych_excl_var.add_subvariable(subvariable_name='intellectual disability',category='dx',value=intellectual_disability_codes)
psych_excl_var.add_subvariable(subvariable_name='somatoform disorder',category='dx',value=somatoform_disorder_codes)
psych_excl_var.add_subvariable(subvariable_name='fibromyalgia',category='dx',value=fibromyalgia_codes)
diagnosis_variables.append(psych_excl_var)

#cognitive exclusions
cognitive_excl_var=ClinicalVariable('cognitive exclusion')
dementia_codes=['F01', 'F01.51', '290.41', 'F01.50', '290.42', '290.43', '290.40', 'F02', 'F02.80', '294.11', '294.10', 'F02.81', 'F03', 'F03.91', 'F03.90', '290.21', '290.0', '290.9', '290.20', '290.13', '290.12', '290.3', '294.21', '290.11', '290.8', '290.10', '294.20', 'G31', '331.2', 'G31.9', '330.9', '331.9', 'G31.1', '331.82', '331.89', '330.8', 'G31.83', 'G31.84', '331.83', 'G31.89', '331.11', 'G31.81', '331.19', 'G31.09', '331.6', 'G31.85', 'G31.01', 'G31.82', 'F19.97', '292.82', 'F10.97', '291.2', 'F10.27', 'F19.27', 'F18.17', 'F18.27', 'G30', 'G30.9', '331.0']
mci_codes=["31.84","R41.81","R41.844","R41.3","R41.2","R41.1","G45.4","799.59","780.93","437.7","799.55"]
cognitive_excl_var.add_subvariable(subvariable_name='dementia',category='dx',value=dementia_codes)
cognitive_excl_var.add_subvariable(subvariable_name='mild cognitive impairment',category='dx',value=mci_codes)
diagnosis_variables.append(cognitive_excl_var)

#Substance use disorder (moderate or severe)
moderate_or_severe_sud_codes=['F10.2', '303.93', '303.90', 'F10.21', '303.92', '303.91', '291.2', 'F10.27', 'F10.20', '291.81', '291.82', '291.89', '291.0', '303.01', 'F10.288', 'F10.229', 'F10.259', '303.00', 'F10.280', '303.03', '303.02', 'F10.231', 'F10.282', 'F10.281', 'F10.239', 'F11.2', 'F11.20', '304.03', '304.00', '304.02', '304.01', 'F11.21', 'F11.282', 'F11.259', '292.89', 'F11.288', 'F11.222', '292.85', 'F11.281', 'F12.2', 'F12.20', '304.30', 'F12.21', '304.33', '304.32', '304.31', '292.89', 'F12.259', 'F12.288', 'F12.222', 'F12.280', 'F13.2', '304.11', '304.10', '304.13', 'F13.20', 'F13.21', '304.12', 'F13.281', 'F13.280', '292.89', 'F13.282', '292.85', 'F13.259', 'F13.288', 'F14.2', '304.22', 'F14.20', '304.21', '304.20', 'F14.21', '304.23', 'F14.222', 'F14.259', 'F14.288', 'F14.280', '292.89', 'F14.281', '292.85', 'F14.282', 'F15.2', '304.41', '304.43', '304.40', 'F15.21', '304.42', 'F15.20', 'F15.281', 'F15.282', '292.89', 'F15.222', 'F15.259', '292.85', 'F15.288', 'F15.280', 'F16.2', '304.51', '304.52', '304.50', 'F16.20', 'F16.21', '304.53', '292.89', 'F16.280', 'F16.283', 'F16.259', 'F16.288', 'F17.2', 'F17.200', '305.1', 'F17.208', '292.89', 'F17.218', 'F17.298', 'F17.228', 'F18.2', 'F18.280', '292.89', 'F18.259', 'F18.288', 'F19.2', '304.80', '304.62', '304.93', '304.81', '304.71', '304.70', '304.82', '304.63', '304.83', '304.61', '304.90', '304.91', 'F19.21', '304.60', '304.92', '304.73', 'F19.20', '304.72', 'F19.259', 'F19.222', 'F19.288', '292.89', 'F19.281', '292.85', 'F19.282', 'F19.280']
moderate_or_severe_sud_excl_var=ClinicalVariable('substance use exclusion')
moderate_or_severe_sud_excl_var.add_subvariable(subvariable_name='sud_codes',category='dx',value=moderate_or_severe_sud_codes)
diagnosis_variables.append(moderate_or_severe_sud_excl_var)

# Suicidal behavior (R45.8541)
suicidal_ideation_codes=['T59.4X2S', 'T60.2X2', '968.4', 'T44.992D', 'T56.5X2', 'T38.902', 'X73.0', 'T59.812D', '972.3', 'T51.92XS', 'T37.8X2', 'T40.3X2S', 'E9580', 'T59.812A', 'T48.992S', 'T63.192D', 'T38.902D', '983.2', 'X82.8', 'T47.3X2A', 'T44.6X2D', 'T43.612', '988.1', 'T52.8X2S', 'X73.1XXD', 'T43.622D', 'T40.992', 'T36.2X2', 'T49.5X2D', 'T56.0X2', 'X71.1', 'T36.6X2D', 'T50.3X2D', 'X71.0XXD', 'T50.5X2S', 'X77.2XXS', 'T56.3X2S', 'T42.6X2S', 'E9581', 'T71.162A', 'T36.3X2A', 'T49.92XS', 'X71.8XXS', 'T65.3X2S', 'X74.02', 'E9520', 'X71', 'X78.1XXA', 'T65.5X2', 'T50.A22A', 'T45.7X2D', '975.4', 'T50.Z12A', 'X77.0XXD', 'T49.8X2A', 'T63.422', 'T59.812S', 'T62.92XA', 'T62.8X2', 'T40.4X2', 'T38.2X2A', 'X83.0XXD', 'T65.812D', '977.0', 'T53.4X2D', 'T47.1X2A', '980.0', '965.9', 'T38.802S', 'T41.1X2D', 'T44.5X2A', 'T52.1X2D', 'T63.072S', 'E9589', 'T39.1X2', 'T48.5X2S', 'T45.7X2A', 'T36.3X2', 'T37.4X2A', 'T47.4X2S', '979.6', 'T48.1X2', 'T59.0X2S', '962.7', '976.2', 'X81.8XXS', 'E9586', 'T38.1X2', 'T54.2X2S', 'T56.1X2S', 'T55.1X2D', 'T61.02XS', 'X75.XXXS', 'T63.062D', 'E9505', 'T42.4X2', '975.2', 'T14.91XD', 'T47.0X2S', 'T71.222', 'T52.8X2', 'T62.0X2S', 'X81.0', 'T39.312D', 'X74.0', 'T45.92XA', 'T50.1X2', 'T64.82XA', 'T56.6X2D', 'T44.2X2', 'T36.3X2S', 'T63.042', 'T62.92XD', 'T42.2X2D', 'T40.902S', 'T49.7X2D', 'T38.7X2D', '961.7', 'X82.1XXD', 'T63.012', '966.0', 'T45.92XS', 'T48.902', 'T48.0X2', 'T48.5X2A', 'T53.3X2', '964.2', 'T52.0X2D', '962.9', '987.3', 'T48.902A', 'T59.4X2A', 'X79.XXXA', 'X83.1', '961.9', 'T45.692D', 'T43.612S', 'T40.7X2A', 'T52.4X2', '964.4', 'T65.92XD', 'T43.612A', '973.0', 'T65.3X2A', 'T53.6X2A', 'T52.8X2D', 'T53.92XD', 'T63.712', 'T41.3X2S', 'T36.6X2A', 'T38.0X2A', 'T43.632A', '978.2', '988.8', 'T63.022D', 'T45.8X2A', 'T46.7X2', '967.9', 'T40.4X2A', 'T36.0X2S', 'T59.2X2D', 'T40.992A', 'T45.4X2D', 'X71.2', 'T50.8X2A', '965.4', 'X77.2XXA', 'T44.0X2', 'T37.0X2', 'T43.92XA', 'T42.2X2', 'T47.1X2S', 'T43.92XS', '976.0', 'T36.0X2D', 'X71.1XXD', 'T47.3X2S', 'T59.5X2D', 'T50.7X2A', 'T50.B92A', 'T71.162D', 'T54.0X2A', 'T61.12XD', 'X74.09', 'T65.0X2S', 'T53.0X2', 'T56.92XS', 'T45.0X2A', 'T50.7X2', 'T52.4X2S', 'X77.1XXS', 'T41.5X2', 'T47.7X2A', 'T65.292', 'T40.692D', 'T50.5X2A', 'X71.3XXS', 'E9570', 'T65.4X2A', 'T46.7X2S', 'T49.92XD', 'T36.4X2', 'T40.992S', 'T63.612A', 'T40.5X2A', 'T43.012', '968.2', 'T54.1X2A', 'T63.392A', '974.2', 'T57.8X2D', 'T63.812A', 'X82', 'T56.812A', 'X82.0XXS', 'T63.082D', 'T60.4X2D', 'T48.992D', 'T60.8X2', '969.4', 'X75', 'T43.592S', 'X71.8XXD', 'T65.0X2D', '983.0', 'T63.632S', 'T41.5X2A', '964.3', 'T50.A12S', 'T60.1X2S', 'X73.8', 'T63.2X2', 'X83.8XXA', 'X82.2', 'T60.2X2D', 'T44.2X2S', '977.2', '976.4', 'T43.222S', '962.8', 'T41.42', 'X73.1XXS', 'T46.2X2', 'T71.132D', 'T53.2X2S', 'T63.792', 'T63.482', '972.4', 'T50.5X2D', 'T40.5X2D', 'T71.112A', '964.5', 'X71.0', 'T53.7X2D', 'T43.692D', 'T41.292A', '979.9', '970.1', 'T38.5X2', '985.1', 'T63.712S', 'X74.8XXA', 'T38.6X2D', 'T63.822A', 'X82.1XXA', 'T56.7X2D', 'T47.3X2', 'T65.4X2S', 'T36.8X2', 'T41.202A', 'T61.12XA', 'T50.4X2S', '989.9', 'T39.2X2D', 'T54.92XD', 'T51.2X2', 'T59.892D', '969.04', 'T54.92', 'T59.4X2D', 'X82.8XXS', 'T58.12XA', 'T57.0X2D', 'T63.312A', 'X74.9XXD', 'E959', 'T60.1X2', 'T64.82', 'X74.02XA', 'T43.502', 'X76.XXXA', 'T50.1X2A', '961.0', 'T65.3X2D', '975.0', 'T48.3X2D', 'T57.1X2S', 'T59.1X2D', 'T40.602A', 'T57.2X2', 'T46.3X2D', 'T50.0X2D', 'T41.3X2A', 'T53.2X2A', '975.7', '965.8', 'T51.3X2S', 'T57.1X2A', 'T40.902A', 'T49.2X2D', 'X74.09XD', 'T65.6X2', 'T71.232A', 'T63.892', '989.82', '987.1', 'T53.0X2S', 'X79', 'E9550', 'T39.092', 'E9501', 'T60.3X2', 'T58.2X2D', 'T50.Z92D', 'T40.602D', 'T63.452S', 'T63.592D', 'T63.392S', 'X82.2XXD', 'X73.2XXA', 'T42.72', 'T63.622S', 'T38.7X2S', 'T50.A92D', '973.9', 'T53.6X2', 'X71.3XXD', 'T48.902S', 'T49.0X2', 'T63.482D', 'T54.2X2A', 'X73.0XXA', 'T63.392', 'T65.822A', 'T43.292D', 'T61.782A', 'E951', 'T63.322S', 'T63.592', 'T47.1X2', 'T38.5X2S', 'T61.782S', 'T65.892D', 'T60.2X2S', 'T46.5X2', 'X78.8XXS', 'T63.092A', 'T50.8X2S', 'T71.192D', 'T63.432D', 'T60.92XA', 'T59.3X2', 'T47.92', 'T63.832', 'T46.8X2A', 'T50.B12', 'T56.92XA', 'T61.12', 'T62.0X2', 'T50.2X2A', 'E9508', 'T46.1X2A', 'T58.2X2S', 'T62.1X2D', 'T39.392D', 'T63.072D', 'T43.3X2A', '975.3', 'T45.512S', '968.9', 'T38.2X2S', 'T49.8X2D', '969.09', 'T65.892', 'X81.8XXA', 'T56.6X2A', 'T45.4X2S', 'T71.112D', 'T43.692S', '960.5', 'T41.292', '976.1', 'NoD.x', 'T41.0X2D', 'T39.392', 'T47.6X2', 'T50.Z12D', 'T56.3X2A', 'X81.1', 'T63.062', 'T38.992', '978.1', 'T52.2X2D', 'T63.082', 'T51.8X2S', 'T65.222S', 'T71.152', 'T47.2X2', 'T47.4X2', 'T63.692D', 'Y92.009', 'T42.0X2A', 'T64.02XS', 'T37.0X2A', 'X82.0', 'T43.602A', 'T50.A22S', 'T63.822', 'T38.992S', 'T43.642', 'T49.3X2A', 'T58.12', 'T65.0X2', 'E9521', 'T59.3X2S', 'T46.5X2A', 'T50.912S', '987.6', 'T41.1X2A', 'T50.A22', 'X74.9XXS', '966.1', 'T44.992S', 'X77.9', 'T38.892S', 'T63.112D', 'T52.2X2A', 'T42.72XS', 'T63.432', 'E9556', 'T63.022A', 'T45.1X2A', 'T45.602A', 'X80.XXXD', 'T36.6X2', '969.6', 'X83.8XXS', 'T47.5X2', 'T54.3X2A', 'T50.4X2D', '969.05', '965.01', '969.71', 'T63.622', 'X83', 'T49.4X2', 'T42.72XD', 'T53.5X2A', 'T63.422S', 'T65.892A', 'T60.2X2A', 'X83.1XXS', 'T61.02XA', 'T45.522S', 'T46.1X2', 'T38.892D', '985.8', 'E9571', 'T53.6X2D', 'T61.782', 'T61.8X2', '969.9', 'X78', 'T14.91XA', 'X71.3', 'T50.B92', 'T37.5X2', 'T60.8X2D', '963.8', 'X73', 'T40.0X2D', 'T65.292A', 'T38.5X2A', 'T63.312', 'T36.92XD', 'T59.3X2A', 'T48.3X2', 'T63.892S', 'T49.4X2A', '974.5', 'T45.7X2S', 'T49.1X2S', 'T61.772', 'T48.6X2A', 'T57.3X2S', 'T49.7X2S', 'T63.462', 'T63.122A', 'T42.1X2D', 'T41.202', 'T50.4X2', 'T63.072', 'T63.512D', 'T45.7X2', 'T44.1X2S', 'T63.832A', '960.1', '971.1', 'T48.292', '973.5', 'T40.7X2D', '987.8', 'T43.592D', 'X77.8XXD', 'T53.7X2', 'T47.7X2', 'T40.3X2D', 'T42.8X2A', 'T48.0X2A', 'T52.0X2A', 'T63.022', 'T65.822S', 'T57.0X2A', 'X74.9XXA', 'X82.1XXS', 'T63.302A', 'T60.4X2A', 'T38.812A', 'T36.5X2D', 'T40.0X2S', 'T63.452A', 'X73.1XXA', 'T42.3X2D', 'T46.4X2S', 'T63.442', 'T43.202A', 'X77.9XXA', '989.5', 'T40.8X2D', 'T63.032D', 'E9579', 'X71.3XXA', 'T45.92', 'T50.2X2S', 'T50.2X2D', 'T71.122D', 'T40.2X2S', 'T62.92', 'T63.192A', 'T63.082S', 'T54.1X2S', 'R45.851', 'T45.8X2S', 'T36.2X2A', 'T50.B92S', 'T43.612D', 'X75.XXXD', 'T44.0X2S', 'X81.0XXA', 'T44.3X2S', 'T56.3X2', 'T43.1X2', 'T60.92XS', 'T42.2X2S', '969.03', 'T58.8X2D', 'X73.1', 'X73.8XXD', 'T45.512', 'T41.42XD', 'T52.3X2A', 'T56.2X2D', 'T50.Z12', 'T51.1X2', 'T42.3X2S', 'X77.0XXS', '963.4', 'T71.192A', 'T49.8X2S', '960.4', 'T43.622A', 'T65.832A', 'T59.92XA', 'T62.92XS', 'T46.2X2A', 'T62.2X2S', 'T45.692', '987.5', 'T41.1X2', 'T46.3X2S', 'T63.612S', 'T60.4X2S', 'T36.8X2S', 'E9518', 'T65.1X2S', 'T63.042A', 'T51.0X2', '989.89', 'T45.0X2S', '970.81', 'T50.912A', 'T43.8X2S', 'T59.2X2S', '986', 'T40.8X2', 'T43.212A', 'T41.42XA', '971.2', 'T59.4X2', 'T49.3X2', 'T37.5X2D', 'T37.2X2', 'T39.2X2A', 'E956', 'T65.212S', 'T39.012', 'X83.0', 'T37.92', 'T37.1X2S', '960.8', 'T44.3X2', 'T46.0X2', 'T46.902', 'T57.8X2', 'T56.892A', 'T40.3X2A', 'X83.8', '966.2', 'X83.0XXS', 'T43.202S', 'T45.692S', 'T44.4X2A', '978.6', 'X82.0XXD', '985.2', '982.8', 'T44.902D', 'T45.0X2', '983.9', 'X71.8XXA', '960.3', 'T63.412A', 'X83.1XXD', 'T45.1X2S', 'X83.0XXA', 'T63.822D', 'T48.992', 'T63.512', 'T56.7X2', 'T43.642A', 'T47.6X2D', 'T36.4X2D', 'T60.92XD', '975.5', 'X81.1XXD', '969.1', 'T56.892D', 'E950', 'X72.XXXS', 'T49.5X2', 'T50.Z92A', 'T61.8X2S', 'T63.512S', 'E9555', 'T36.5X2A', 'T53.7X2A', 'X81.0XXS', 'T65.92', 'T71.122', 'T40.902D', 'X77.3XXS', 'T54.0X2D', 'T45.8X2', 'T57.92XD', 'T46.4X2D', '984.1', 'T62.8X2S', 'E9551', 'T45.602S', 'T59.0X2A', 'T48.5X2', 'T44.5X2', 'T42.8X2S', 'T43.642S', 'T44.8X2A', 'T56.92XD', 'T48.202A', 'T50.902D', 'T42.5X2', 'T52.92XA', 'T63.002D', 'T43.022S', 'T50.8X2', '964.6', 'T43.212', 'T46.6X2A', 'T43.592', 'T46.8X2', 'T40.2X2A', 'T57.92XS', 'T45.522D', '975.8', 'X77.1', 'T38.6X2A', 'T63.302S', 'T65.812A', 'T46.992S', '974.4', 'T50.6X2S', 'X73.9XXA', 'T39.012A', 'T48.202', 'T59.92', 'T62.2X2A', 'T49.7X2', 'X74', 'T43.622', 'T54.2X2', 'T58.92', 'T59.0X2D', '989.4', '965.00', 'T58.02XD', 'T63.92', 'T63.312S', 'X82.1', 'Y92.828', 'T45.602D', 'T50.A12', 'T65.0X2A', 'T63.832S', 'X74.8XXS', 'T39.012D', 'T44.6X2A', 'T41.1X2S', 'X83.2', 'T63.332', '962.3', 'T57.3X2A', 'T65.1X2A', 'T43.4X2D', 'T40.602', 'T56.6X2', '960.6', 'T53.1X2', 'T50.902S', 'T60.8X2A', 'T50.7X2D', 'X71.9XXS', 'T39.4X2', 'T63.322', 'T57.92XA', 'T50.0X2S', 'T39.1X2D', 'T56.892', 'T43.622S', 'T53.4X2S', 'T52.2X2S', 'T41.3X2D', 'T60.0X2D', 'T43.642D', 'X74.02XS', '984.9', 'T48.1X2D', 'T44.8X2', 'T59.7X2S', 'T64.02', 'T41.292S', 'X73.2', 'X77.2XXD', '987.9', 'X73.0XXD', 'T38.892', 'T61.8X2D', 'T38.892A', 'T44.3X2D', 'T57.3X2', 'T36.1X2S', 'V62.84', 'T44.0X2A', 'T44.4X2D', 'T56.92', 'T63.692', 'E9511', '967.8', 'T58.92XD', '970.0', 'Y92.89', 'E9531', 'T63.812D', 'T59.6X2', 'X78.0XXA', '972.1', 'T59.5X2', 'T63.332S', 'X78.9XXD', '982.4', 'T53.4X2A', 'T38.992A', 'T50.1X2S', 'X74.01XD', 'T42.0X2D', 'T65.212A', 'T63.622D', 'T42.6X2', 'T59.6X2A', 'T60.3X2D', 'T45.3X2S', 'X74.09XS', 'X78.1XXD', 'T59.1X2A', 'X81.1XXS', 'T41.5X2S', 'T39.092S', 'E9504', 'T39.8X2S', 'T55.1X2', 'T58.02XA', 'T63.452D', 'T45.622', 'T55.0X2A', '978.4', 'T36.1X2', 'T45.3X2A', 'T65.812S', 'T37.4X2', 'T47.4X2D', 'T60.0X2S', 'T49.5X2S', 'X82.2XXA', 'T44.1X2', '989.84', '978.8', 'T63.2X2A', 'T52.3X2S', 'X71.1XXA', 'T37.8X2S', 'T48.902D', 'T61.772S', 'T43.1X2A', 'T51.8X2D', 'T63.792A', 'T50.3X2', '973.1', 'E958', 'T63.632A', 'T48.4X2D', 'T56.5X2S', 'T42.5X2A', 'T63.012D', 'T49.92XA', 'T50.A22D', 'T43.022D', 'T71.152D', 'T71.232S', 'T43.502S', '989.6', 'T63.792D', 'T36.7X2D', 'T63.412S', 'T50.A92S', '989.1', 'T36.5X2S', 'X78.8XXD', 'E9552', 'T56.812S', 'T65.6X2S', 'T47.8X2D', 'X71.0XXA', 'T39.312', 'X78.8', 'T56.7X2A', 'T46.2X2S', 'X77.9XXD', 'T39.1X2A', 'T63.032S', 'T54.2X2D', 'T65.1X2', 'T43.292S', 'E9588', 'T49.6X2A', 'T38.812S', 'T63.002', 'T43.292A', 'T40.2X2D', 'X78.0', 'T63.2X2S', 'E9587', 'T63.432A', 'X81.8', 'E9583', 'T39.2X2S', 'T63.442D', 'T50.902', 'T43.602S', 'T48.202S', 'T45.2X2', 'T43.3X2S', 'T51.0X2S', 'T65.822', 'T49.0X2S', 'T45.8X2D', 'T51.3X2A', 'T49.1X2A', 'T71.232D', 'T46.6X2', 'T63.832D', 'T48.4X2', 'T50.992D', 'T45.612D', 'X76.XXXS', 'X78.1XXS', 'T39.8X2', 'T43.92', 'T41.0X2', 'T47.0X2', '969.79', 'T51.3X2', 'T58.12XS', 'T60.0X2A', 'T37.1X2', 'T37.92XA', 'T65.292D', 'T65.812', 'T65.832S', 'X71.2XXD', '960.9', 'T53.3X2D', 'T63.062A', 'T71.132A', 'T55.0X2S', '963.0', '909.1', 'T58.92XA', 'T51.1X2S', 'T54.1X2D', 'T38.6X2', 'T50.902A', 'T50.Z92', 'T55.1X2S', '982.0', 'X78.9XXS', '972.6', 'T40.4X2S', 'T56.4X2S', 'T48.3X2S', 'X77.3XXA', 'T51.1X2D', 'T45.512A', 'T43.4X2', 'T56.1X2A', 'T42.4X2D', 'T36.0X2', 'X77.0XXA', 'T42.5X2S', 'X83.1XXA', 'T50.A92', '978.5', '978.9', 'T60.3X2S', 'X78.0XXD', 'E9557', 'T45.622A', 'E9572', '975.6', 'T38.0X2S', 'T49.4X2D', 'T49.6X2S', 'T40.692S', 'T48.3X2A', '985.9', 'T43.202', '969.72', 'T42.72XA', 'T63.422A', '972.9', 'T44.902A', 'T63.322A', 'T50.3X2S', 'T51.1X2A', 'T40.692', 'T50.992S', 'T63.442S', 'T48.292A', 'T63.302D', 'T37.2X2D', 'T46.6X2D', 'T65.5X2D', '963.9', 'X74.02XD', '960.2', 'T37.2X2S', 'T57.1X2', 'T57.1X2D', 'T63.412D', 'X71.0XXS', 'T42.2X2A', 'T61.12XS', '965.5', 'T44.2X2D', 'X80.XXXA', 'T44.1X2A', 'T43.222', 'T63.302', 'T50.B12S', 'T50.0X2A', 'T41.202D', 'T44.7X2D', '976.3', 'T53.0X2A', 'T56.1X2D', 'T71.222S', 'T71.152A', 'T47.0X2A', 'T56.5X2A', 'T48.0X2S', 'T71.192', '962.0', 'T43.202D', 'T61.92XD', '987.2', 'T71.152S', '971.3', 'T37.1X2D', '988.0', 'X78.0XXS', 'T46.4X2', 'T56.4X2', '967.0', 'T59.6X2S', 'T43.222D', 'T55.1X2A', 'T63.392D', '961.6', 'T55.0X2D', 'T47.6X2A', 'X77.8XXS', '973.2', 'T57.0X2S', 'T64.02XD', 'T49.8X2', 'T47.92XA', 'T48.4X2S', 'E9503', 'T63.322D', 'X76', 'T63.092D', '971.0', 'T48.992A', 'T50.4X2A', 'T63.332D', 'T52.8X2A', 'T58.8X2S', 'T38.812D', 'T65.222D', 'T63.192', 'T63.082A', '973.3', 'T37.5X2S', 'T59.812', 'T43.1X2S', 'T43.92XD', '965.7', 'T45.1X2D', 'T63.112A', 'T57.8X2A', 'T50.2X2', 'E9585', 'T38.1X2S', 'T63.792S', 'T59.5X2S', 'T36.92', 'T42.3X2', 'T50.912', 'T45.602', 'T48.4X2A', 'T43.692A', 'T42.4X2S', 'T47.3X2D', 'T71.232', 'E9559', 'T39.92XS', 'T44.3X2A', 'T50.7X2S', 'E9502', 'T42.0X2', 'T58.02', 'T59.1X2S', 'T56.0X2S', 'T39.312A', 'T49.2X2S', 'T45.612S', 'T65.222A', 'T45.1X2', '979.0', 'Y92.838', 'E9528', 'X72', 'T48.1X2S', '985.5', 'T38.0X2', 'X79.XXXS', 'T59.2X2A', 'T63.442A', 'X81.0XXD', 'T38.0X2D', 'T54.3X2', 'T56.0X2A', '962.4', 'T37.0X2D', 'T43.4X2A', 'T44.4X2', 'T43.8X2', 'T53.92', 'T62.0X2D', '963.1', '973.4', 'T47.92XS', 'T63.412', 'T37.0X2S', 'T63.612D', 'T63.2X2D', 'T38.1X2D', 'T50.6X2', 'T52.92XD', 'T36.92XS', 'T47.7X2D', 'X71.9', 'T50.3X2A', 'T52.3X2D', '982.3', 'T38.6X2S', 'T44.5X2D', 'T65.6X2D', 'X83.2XXS', 'T36.2X2S', 'T65.832', '972.7', 'T59.7X2A', 'X73.9XXD', 'T50.Z12S', 'T60.92', 'X78.2XXD', 'T58.8X2', '978.3', 'T63.462A', 'T46.1X2D', 'T63.482A', 'T40.5X2S', 'T50.A12A', 'X79.XXXD', 'T36.5X2', 'T52.2X2', 'T63.462D', 'X73.8XXS', 'X77.3', 'T56.0X2D', 'T63.042D', 'T52.3X2', 'T49.3X2S', 'T46.902S', 'T63.612', 'T48.6X2D', '969.00', 'T63.592A', 'T57.3X2D', 'T50.6X2D', '977.9', 'T38.1X2A', 'T38.3X2D', 'T43.502A', '972.5', 'T62.2X2', '973.8', 'T46.0X2S', '969.70', 'T40.1X2D', 'T54.1X2', 'X77.3XXD', 'T47.8X2', 'T50.A92A', 'T39.92XD', 'T55.0X2', 'T71.112', '981', '965.02', 'T63.032A', 'T37.4X2S', 'T38.4X2', 'T56.6X2S', 'T46.4X2A', 'T53.3X2A', 'T36.4X2S', 'T37.5X2A', 'T45.692A', 'T47.8X2A', '976.9', 'T48.292D', 'T45.612A', 'T63.192S', 'T63.452', 'T43.632', 'T58.12XD', 'T44.992A', 'X78.2XXA', 'T61.92XA', 'T38.5X2D', 'X71.8', 'T40.1X2', 'T45.2X2A', '969.8', 'T47.6X2S', 'T44.7X2S', 'T46.7X2D', 'T36.2X2D', 'T53.1X2A', 'T52.1X2', 'T63.632D', 'T50.992A', 'T45.2X2S', 'T36.6X2S', 'T38.2X2D', 'E9507', 'T50.B12A', 'T48.1X2A', 'T50.1X2D', 'T36.1X2D', 'T49.6X2D', 'T51.8X2A', 'T38.902S', 'E952', 'X81.8XXD', 'X78.9', '989.3', 'T56.4X2A', 'X82.8XXD', 'T46.7X2A', 'T40.4X2D', 'T36.92XA', '974.7', 'T48.202D', 'T62.8X2D', 'T45.3X2D', 'T63.462S', 'T43.012S', 'T65.92XA', 'X75.XXXA', 'T53.7X2S', 'T50.5X2', '966.4', 'T58.92XS', '976.6', '985.6', 'T57.2X2S', 'T44.5X2S', 'X74.01XA', 'T42.1X2S', 'T44.0X2D', 'T65.6X2A', 'T42.5X2D', '969.02', 'T63.042S', 'T43.022', 'T43.022A', 'T49.5X2A', 'X72.XXXD', 'T47.4X2A', 'T62.1X2', 'T56.7X2S', 'T40.8X2S', 'T45.4X2', '972.2', 'T57.2X2D', 'T42.1X2A', 'T65.292S', 'T38.802A', 'T63.022S', 'T63.062S', 'T52.0X2', 'Y92.9', 'T71.192S', 'T63.712A', 'T37.4X2D', '988.9', 'T38.3X2S', '984.8', 'X77.1XXA', 'X78.9XXA', 'T43.8X2A', 'T47.2X2D', '983.1', 'T53.5X2', 'T51.92XD', 'T56.812', 'T63.812S', 'T47.0X2D', 'X78.8XXA', 'T49.4X2S', 'X73.8XXA', 'T50.A12D', 'X73.9XXS', 'T39.92', 'T53.5X2S', 'X77.9XXS', 'T65.832D', '964.9', 'E953', 'T57.0X2', '976.7', 'T39.4X2S', '964.0', 'T43.3X2', 'T46.8X2S', 'T45.0X2D', 'T62.0X2A', 'T63.712D', 'T59.1X2', 'T41.0X2A', 'X83.8XXD', 'T40.7X2', 'E9553', 'T65.1X2D', 'T41.42XS', 'T44.902', '994.7', '985.0', 'T43.222A', 'T63.92XD', 'X82.2XXS', 'T49.6X2', '988.2', 'T61.8X2A', 'T45.622D', 'T60.0X2', 'T37.3X2A', 'T71.132', 'T53.1X2D', 'T56.2X2A', 'T60.1X2A', 'T42.6X2D', 'T38.992D', 'T48.292S', 'T49.0X2D', '966.3', 'T47.5X2S', 'E9500', 'T64.82XS', 'T43.602', 'T36.8X2A', 'T42.1X2', 'X74.01XS', 'X71.2XXS', 'E9539', 'T53.2X2D', 'T44.4X2S', 'T37.2X2A', 'T58.2X2A', 'T52.4X2D', 'X77.1XXD', 'T43.602D', 'T71.122S', 'T54.3X2S', '961.4', 'E954', 'T50.B92D', 'X73.2XXS', '980.2', 'T71.222A', 'X81', '971.9', 'T39.8X2A', 'T59.0X2', 'T41.202S', 'X78.2', 'T42.0X2S', 'T40.0X2A', 'X71.9XXD', 'T52.1X2A', '969.01', '965.61', 'T38.3X2', '982.2', 'T57.92', 'T53.92XS', 'T49.2X2', 'T52.1X2S', 'T61.92', 'T63.512A', '987.4', 'T63.112', 'T61.02XD', 'T51.2X2S', 'T46.3X2', '969.2', 'T47.5X2A', 'T45.522A', 'T48.6X2', 'T56.892S', 'T42.3X2A', 'T46.8X2D', 'X71.1XXS', 'T56.1X2', 'T46.902A', 'T53.92XA', 'X77.2', 'T47.5X2D', '964.8', 'T47.92XD', 'T54.92XA', 'T56.2X2', '982.1', 'E9506', 'T59.92XD', 'T63.002S', 'T63.012S', 'T45.2X2D', 'X71.2XXA', 'T53.2X2', 'T39.8X2D', 'T36.8X2D', 'T63.622A', 'T71.112S', 'T71.162', 'T56.4X2D', 'T43.1X2D', 'T46.2X2D', '980.1', 'T43.212S', '965.09', 'T53.3X2S', 'T36.4X2A', 'T65.92XS', 'T63.692A', 'E9530', 'T53.4X2', 'T45.612', 'T59.892A', 'T63.482S', '961.5', 'T14.91', 'T40.692A', 'T63.692S', 'T63.92XS', 'T38.4X2D', 'T65.4X2D', '968.3', 'T48.0X2D', 'T36.7X2A', 'T59.92XS', 'T54.0X2', 'T39.312S', 'T38.812', 'T56.812D', 'T44.6X2', '965.69', 'T39.2X2', 'T63.092S', 'X80', 'T50.0X2', 'T50.992', 'T65.212', 'T44.8X2D', 'T71.162S', 'T59.892S', 'T65.5X2A', 'T63.072A', '965.1', '960.0', 'T63.012A', 'T59.2X2', 'T40.0X2', 'T39.4X2D', 'T38.802D', 'T59.5X2A', 'T45.3X2', 'X77.8', 'T51.2X2A', 'T63.892D', 'T37.8X2D', 'T40.7X2S', 'T46.5X2S', 'T40.602S', 'E9584', 'T39.092D', 'T63.632', 'T63.312D', 'T36.7X2S', 'X73.9', 'T60.4X2', 'T64.02XA', 'X82.8XXA', 'T51.0X2A', 'X74.8XXD', 'T40.992D', 'T54.92XS', 'T59.3X2D', 'T50.B12D', 'T37.3X2', 'T43.592A', 'T45.522', 'T40.5X2', 'T62.2X2D', 'T36.0X2A', 'T44.2X2A', 'T58.8X2A', 'T38.4X2S', 'T41.292D', 'T43.4X2S', 'T63.92XA', 'X74.09XA', 'T51.92', 'T39.4X2A', 'T37.3X2S', '961.8', 'T37.3X2D', 'T41.3X2', 'T42.6X2A', 'T14.91XS', '969.3', 'T51.8X2', 'T56.3X2D', 'T63.122S', 'T57.2X2A', 'T51.92XA', 'E9582', 'T38.802', 'T63.032', 'T61.772A', 'T53.5X2D', 'T45.4X2A', 'T47.1X2D', 'T44.992', 'T52.92', 'T60.1X2D', 'X73.0XXS', '962.1', 'T41.5X2D', 'T48.5X2D', 'T63.592S', 'T46.992D', 'T38.3X2A', 'T63.122', 'T59.892', 'E9538', 'T43.012D', 'T47.7X2S', 'T61.02', 'T43.012A', 'T63.332A', 'X78.2XXS', 'T50.912D', 'X74.8', 'T46.5X2D', 'T49.92', '989.0', 'T63.092', '968.0', 'T53.0X2D', '977.8', 'T47.2X2S', 'T50.8X2D', 'T61.782D', 'T65.222', 'T46.992A', 'T71.132S', 'X78.1', '984.0', 'T44.6X2S', 'T54.3X2D', 'T44.7X2A', 'T63.002A', '962.2', 'T43.692', 'T63.892A', '987.7', 'X80.XXXS', 'T37.1X2A', 'T43.632S', 'T46.0X2D', 'T44.8X2S', 'T40.2X2', 'T51.3X2D', 'X83.2XXA', 'T44.7X2', 'T45.92XD', 'X81.1XXA', 'X77.0', 'T36.7X2', 'T58.2X2', 'X77', 'E955', 'T36.3X2D', 'T60.8X2S', 'E9529', 'T46.6X2S', 'T44.1X2D', 'T56.2X2S', 'T52.0X2S', 'X82.0XXA', 'T46.902D', '969.73', 'T50.Z92S', 'T59.6X2D', 'X83.2XXD', 'T52.4X2A', 'T48.6X2S', 'T65.3X2', 'T61.92XS', 'T60.3X2A', 'T38.7X2', 'T38.4X2A', 'T46.1X2S', 'T65.892S', 'T40.1X2S', 'T42.4X2A', '976.5', 'T46.992', 'T57.8X2S', 'T49.2X2A', 'T62.1X2A', 'T49.0X2A', 'T41.0X2S', 'T49.3X2D', 'T39.092A', 'T47.2X2A', 'T61.772D', 'T47.8X2S', 'T37.8X2A', 'T49.7X2A', 'T40.3X2', '972.0', 'T51.2X2D', 'T71.222D', 'T64.82XD', 'T51.0X2D', 'T65.212D', 'X74.9', 'T62.8X2A', 'T46.0X2A', 'X72.XXXA', 'T40.1X2A', 'T38.2X2', 'E957', 'T50.6X2A', 'E9509', 'T39.92XA', 'T63.432S', 'T36.1X2A', 'T45.622S', '980.9', 'T43.8X2D', 'T37.92XD', 'T46.3X2A', 'T40.8X2A', 'T54.0X2S', 'T63.822S', 'X73.2XXD', 'T65.822D', 'T39.012S', 'T42.8X2D', 'T43.212D', 'T71.122A', '980.8', 'T43.292', 'T53.6X2S', 'T44.902S', 'E9554', 'T43.632D', 'T63.112S', 'T43.3X2D', 'T40.902', '963.5', 'T49.1X2D', 'T56.5X2D', '976.8', 'T59.7X2D', 'T65.5X2S', 'T49.1X2', 'T58.02XS', 'T52.92XS', 'T38.902A', 'T53.1X2S', 'T59.7X2', 'E9510', 'X77.8XXA', '985.3', '989.7', '973.6', 'T63.122D', 'T63.422D', 'X76.XXXD', '980.3', 'T39.392A', 'T65.4X2', 'X74.01', 'T43.502D', 'T39.1X2S', 'T42.8X2', 'X71.9XXA', 'T63.812', 'T39.392S', 'T62.1X2S', 'T45.512D', 'T37.92XS', 'T38.7X2A']
suicidal_ideation_excl_var=ClinicalVariable('suicidal ideation exclusion')
suicidal_ideation_excl_var.add_subvariable(subvariable_name='suicidal_ideation_codes',category='dx',value=suicidal_ideation_codes)
diagnosis_variables.append(suicidal_ideation_excl_var)

# Malignancies (any of the two)
malignant_neoplasm_lip_oral_cavity_pharynx =  ['C000', 'C001', 'C002', 'C003', 'C004', 'C005', 'C006', 'C008', 'C009', 'C01', 'C020', 'C021', 'C022', 'C023', 'C024', 'C028', 'C029', 'C030', 'C031', 'C039', 'C040', 'C041', 'C048', 'C049', 'C050', 'C051', 'C052', 'C058', 'C059', 'C060', 'C061', 'C062', 'C0680', 'C0689', 'C069', 'C07', 'C080', 'C081', 'C089', 'C090', 'C091', 'C098', 'C099', 'C100', 'C101', 'C102', 'C103', 'C104', 'C108', 'C109', 'C110', 'C111', 'C112', 'C113', 'C118', 'C119', 'C12', 'C130', 'C131', 'C132', 'C138', 'C139', 'C140', 'C142', 'C148','1400', '1401', '1403', '1404', '1405', '1406', '1408', '1409', '1410', '1411', '1412', '1413', '1414', '1416', '1418', '1419', '1420', '1421', '1422', '1428', '1429', '1430', '1431', '1438', '1439', '1440', '1441', '1448', '1449', '1450', '1451', '1452', '1453', '1454', '1455', '1456', '1458', '1459', '1460', '1461', '1462', '1463', '1464', '1466', '1467', '1468', '1469', '1470', '1471', '1472', '1473', '1478', '1479', '1480', '1481', '1482', '1483', '1488', '1489', '1490', '1491', '1498', '1499']
malignant_neoplasms_of_digestive_organs =  ['C153', 'C154', 'C155', 'C158', 'C159', 'C160', 'C161', 'C162', 'C163', 'C164', 'C165', 'C166', 'C168', 'C169', 'C170', 'C171', 'C172', 'C173', 'C178', 'C179', 'C180', 'C181', 'C182', 'C183', 'C184', 'C185', 'C186', 'C187', 'C188', 'C189', 'C19', 'C20', 'C210', 'C211', 'C212', 'C218', 'C220', 'C221', 'C222', 'C223', 'C224', 'C227', 'C228', 'C229', 'C23', 'C240', 'C241', 'C248', 'C249', 'C250', 'C251', 'C252', 'C253', 'C254', 'C257', 'C258', 'C259', 'C260', 'C261', 'C269','1500', '1501', '1502', '1503', '1504', '1505', '1508', '1509', '1510', '1511', '1512', '1513', '1514', '1515', '1516', '1518', '1519', '1520', '1521', '1522', '1523', '1528', '1529', '1530', '1531', '1532', '1533', '1534', '1535', '1536', '1537', '1538', '1539', '1540', '1541', '1542', '1543', '1548', '1550', '1551', '1552', '1560', '1561', '1562', '1568', '1569', '1570', '1571', '1572', '1573', '1574', '1578', '1579', '1590', '1591', '1598', '1599']
malignant_neoplasms_of_respiratory_and_intrathoracic_organs =  ['C300', 'C301', 'C310', 'C311', 'C312', 'C313', 'C318', 'C319', 'C320', 'C321', 'C322', 'C323', 'C328', 'C329', 'C33', 'C3400', 'C3401', 'C3402', 'C3410', 'C3411', 'C3412', 'C342', 'C3430', 'C3431', 'C3432', 'C3480', 'C3481', 'C3482', 'C3490', 'C3491', 'C3492', 'C37', 'C380', 'C381', 'C382', 'C383', 'C384', 'C388', 'C390', 'C399','1600', '1601', '1602', '1603', '1604', '1605', '1608', '1609', '1610', '1611', '1612', '1613', '1618', '1619', '1620', '1622', '1623', '1624', '1625', '1628', '1629', '1639', '1640', '1641', '1642', '1643', '1648', '1649', '1650', '1658', '1659']
malignant_neoplasms_of_bone_and_articular_cartilage =  ['C4000', 'C4001', 'C4002', 'C4010', 'C4011', 'C4012', 'C4020', 'C4021', 'C4022', 'C4030', 'C4031', 'C4032', 'C4080', 'C4081', 'C4082', 'C4090', 'C4091', 'C4092', 'C410', 'C411', 'C412', 'C413', 'C414', 'C419','1700', '1701', '1702', '1703', '1704', '1705', '1706', '1707', '1708', '1709']
melanoma_and_other_malignant_neoplasms_of_skin = ['C43.0', 'C4A.20', 'C43.20', '172.4', '172.5', '172.3', '209.32', 'C43.39', 'C43.59', 'C4A.10', '172.0', 'C43.70', 'C43.8', 'C43.30', '209.31', 'C4A.9', 'C4A.4', '209.34', 'C4A.60', 'C4A.59', '172.8', '209.33', 'C4A.0', '172.2', '172.1', 'C43', 'C43.60', 'C4A', 'C4A.8', '172.6', '209.36', '209.35', '172.7', 'C43.9', 'C4A.39', 'C43.31', 'C4A.70', 'C43.4', 'C4A.30', 'C43.10', '172.9']
malignant_neoplasms_of_mesothelial_and_soft_tissue =  ['C450', 'C451', 'C452', 'C457', 'C459', 'C460', 'C461', 'C462', 'C463', 'C464', 'C4650', 'C4651', 'C4652', 'C467', 'C469', 'C470', 'C4710', 'C4711', 'C4712', 'C4720', 'C4721', 'C4722', 'C473', 'C474', 'C475', 'C476', 'C478', 'C479', 'C480', 'C481', 'C482', 'C488', 'C490', 'C4910', 'C4911', 'C4912', 'C4920', 'C4921', 'C4922', 'C493', 'C494', 'C495', 'C496', 'C498', 'C499', 'C49A0', 'C49A1', 'C49A2', 'C49A3', 'C49A4', 'C49A5', 'C49A9','1580', '1588', '1589', '1639', '1641', '1710', '1712', '1713', '1714', '1715', '1716', '1717', '1718', '1719', '1760', '1761', '1762', '1763', '1764', '1765', '1768', '1769', '1958', '1991']
malignant_neoplasms_of_breast =  ['C50011', 'C50012', 'C50019', 'C50021', 'C50022', 'C50029', 'C50111', 'C50112', 'C50119', 'C50121', 'C50122', 'C50129', 'C50211', 'C50212', 'C50219', 'C50221', 'C50222', 'C50229', 'C50311', 'C50312', 'C50319', 'C50321', 'C50322', 'C50329', 'C50411', 'C50412', 'C50419', 'C50421', 'C50422', 'C50429', 'C50511', 'C50512', 'C50519', 'C50521', 'C50522', 'C50529', 'C50611', 'C50612', 'C50619', 'C50621', 'C50622', 'C50629', 'C50811', 'C50812', 'C50819', 'C50821', 'C50822', 'C50829', 'C50911', 'C50912', 'C50919', 'C50921', 'C50922', 'C50929','1740', '1741', '1742', '1743', '1744', '1745', '1746', '1748', '1749', '1750', '1759']
malignant_neoplasms_of_female_genital_organs =  ['C510', 'C511', 'C512', 'C518', 'C519', 'C52', 'C530', 'C531', 'C538', 'C539', 'C540', 'C541', 'C542', 'C543', 'C548', 'C549', 'C55', 'C561', 'C562', 'C569', 'C5700', 'C5701', 'C5702', 'C5710', 'C5711', 'C5712', 'C5720', 'C5721', 'C5722', 'C573', 'C574', 'C577', 'C578', 'C579', 'C58','179', '1800', '1801', '1808', '1809', '181', '1820', '1821', '1828', '1830', '1832', '1833', '1834', '1835', '1839', '1840', '1841', '1842', '1843', '1844', '1848', '1849']
malignant_neoplasms_of_male_genital_organs =  ['C600', 'C601', 'C602', 'C608', 'C609', 'C61', 'C6200', 'C6201', 'C6202', 'C6210', 'C6211', 'C6212', 'C6290', 'C6291', 'C6292', 'C6300', 'C6301', 'C6302', 'C6310', 'C6311', 'C6312', 'C632', 'C637', 'C638', 'C639','185', '1860', '1869', '1871', '1872', '1873', '1874', '1875', '1876', '1877', '1878', '1879']
malignant_neoplasms_of_urinary_tract =  ['C641', 'C642', 'C649', 'C651', 'C652', 'C659', 'C661', 'C662', 'C669', 'C670', 'C671', 'C672', 'C673', 'C674', 'C675', 'C676', 'C677', 'C678', 'C679', 'C680', 'C681', 'C688', 'C689','1880', '1881', '1882', '1883', '1884', '1885', '1886', '1887', '1888', '1889', '1890', '1891', '1892', '1893', '1894', '1898', '1899']
malignant_neoplasms_of_eye_brain_and_other_parts_of_central_nervous_system =  ['C6900', 'C6901', 'C6902', 'C6910', 'C6911', 'C6912', 'C6920', 'C6921', 'C6922', 'C6930', 'C6931', 'C6932', 'C6940', 'C6941', 'C6942', 'C6950', 'C6951', 'C6952', 'C6960', 'C6961', 'C6962', 'C6980', 'C6981', 'C6982', 'C6990', 'C6991', 'C6992', 'C700', 'C701', 'C709', 'C710', 'C711', 'C712', 'C713', 'C714', 'C715', 'C716', 'C717', 'C718', 'C719', 'C720', 'C721', 'C7220', 'C7221', 'C7222', 'C7230', 'C7231', 'C7232', 'C7240', 'C7241', 'C7242', 'C7250', 'C7259', 'C729','1900', '1901', '1902', '1903', '1904', '1905', '1906', '1907', '1908', '1909', '1910', '1911', '1912', '1913', '1914', '1915', '1916', '1917', '1918', '1919', '1920', '1921', '1922', '1923', '1928', '1929']
malignant_neoplasms_of_thyroid_and_other_endocrine_glands =  ['C73', 'C7400', 'C7401', 'C7402', 'C7410', 'C7411', 'C7412', 'C7490', 'C7491', 'C7492', 'C750', 'C751', 'C752', 'C753', 'C754', 'C755', 'C758', 'C759','193', '1940', '1941', '1943', '1944', '1945', '1946', '1948', '1949']
malignant_neoplasms_of_other_secondary_and_unspecified_sites =  ['C760', 'C761', 'C762', 'C763', 'C7640', 'C7641', 'C7642', 'C7650', 'C7651', 'C7652', 'C768', 'C770', 'C771', 'C772', 'C773', 'C774', 'C775', 'C778', 'C779', 'C7800', 'C7801', 'C7802', 'C781', 'C782', 'C7830', 'C7839', 'C784', 'C785', 'C786', 'C787', 'C7880', 'C7889', 'C7900', 'C7901', 'C7902', 'C7910', 'C7911', 'C7919', 'C792', 'C7931', 'C7932', 'C7940', 'C7949', 'C7951', 'C7952', 'C7960', 'C7961', 'C7962', 'C7970', 'C7971', 'C7972', 'C7981', 'C7982', 'C7989', 'C799', 'C800', 'C801', 'C802','1950', '1951', '1952', '1953', '1954', '1955', '1958', '1960', '1961', '1962', '1963', '1965', '1966', '1968', '1969', '1970', '1971', '1972', '1973', '1974', '1975', '1976', '1977', '1978', '1980', '1981', '1982', '1983', '1984', '1985', '1986', '1987', '19881', '19882', '19889', '1990', '1991', '1992']
malignant_neuroendocrine_tumors =  ['C7A00', 'C7A010', 'C7A011', 'C7A012', 'C7A019', 'C7A020', 'C7A021', 'C7A022', 'C7A023', 'C7A024', 'C7A025', 'C7A026', 'C7A029', 'C7A090', 'C7A091', 'C7A092', 'C7A093', 'C7A094', 'C7A095', 'C7A096', 'C7A098', 'C7A1', 'C7A8','20900', '20901', '20902', '20903', '20910', '20911', '20912', '20913', '20914', '20915', '20916', '20917', '20920', '20921', '20922', '20923', '20924', '20925', '20926', '20927', '20929', '20930']
secondary_neuroendocrine_tumors =  ['C7B00', 'C7B01', 'C7B02', 'C7B03', 'C7B04', 'C7B09', 'C7B1', 'C7B8','20970', '20971', '20972', '20973', '20974', '20975', '20979']
malignant_neoplasms_of_lymphoid_hematopoietic_and_related_tissue =  ['C000', 'C001', 'C002', 'C003', 'C004', 'C005', 'C006', 'C008', 'C009', 'C01', 'C020', 'C021', 'C022', 'C023', 'C024', 'C028', 'C029', 'C030', 'C031', 'C039', 'C040', 'C041', 'C048', 'C049', 'C050', 'C051', 'C052', 'C058', 'C059', 'C060', 'C061', 'C062', 'C0680', 'C0689', 'C069', 'C07', 'C080', 'C081', 'C089', 'C090', 'C091', 'C098', 'C099', 'C100', 'C101', 'C102', 'C103', 'C104', 'C108', 'C109', 'C110', 'C111', 'C112', 'C113', 'C118', 'C119', 'C12', 'C130', 'C131', 'C132', 'C138', 'C139', 'C140', 'C142', 'C148','1400', '1401', '1403', '1404', '1405', '1406', '1408', '1409', '1410', '1411', '1412', '1413', '1414', '1416', '1418', '1419', '1420', '1421', '1422', '1428', '1429', '1430', '1431', '1438', '1439', '1440', '1441', '1448', '1449', '1450', '1451', '1452', '1453', '1454', '1455', '1456', '1458', '1459', '1460', '1461', '1462', '1463', '1464', '1466', '1467', '1468', '1469', '1470', '1471', '1472', '1473', '1478', '1479', '1480', '1481', '1482', '1483', '1488', '1489', '1490', '1491', '1498', '1499']
malignant_category_codes=[malignant_neoplasm_lip_oral_cavity_pharynx, malignant_neoplasms_of_digestive_organs, malignant_neoplasms_of_respiratory_and_intrathoracic_organs, malignant_neoplasms_of_bone_and_articular_cartilage, melanoma_and_other_malignant_neoplasms_of_skin, malignant_neoplasms_of_mesothelial_and_soft_tissue, malignant_neoplasms_of_breast, malignant_neoplasms_of_female_genital_organs, malignant_neoplasms_of_male_genital_organs, malignant_neoplasms_of_urinary_tract, malignant_neoplasms_of_eye_brain_and_other_parts_of_central_nervous_system, malignant_neoplasms_of_thyroid_and_other_endocrine_glands, malignant_neoplasms_of_other_secondary_and_unspecified_sites, malignant_neuroendocrine_tumors, secondary_neuroendocrine_tumors, malignant_neoplasms_of_lymphoid_hematopoietic_and_related_tissue]
malignant_categories=['malignant_neoplasm_lip_oral_cavity_pharynx', 'malignant_neoplasms_of_digestive_organs', 'malignant_neoplasms_of_respiratory_and_intrathoracic_organs', 'malignant_neoplasms_of_bone_and_articular_cartilage', 'melanoma_and_other_malignant_neoplasms_of_skin', 'malignant_neoplasms_of_mesothelial_and_soft_tissue', 'malignant_neoplasms_of_breast', 'malignant_neoplasms_of_female_genital_organs', 'malignant_neoplasms_of_male_genital_organs', 'malignant_neoplasms_of_urinary_tract', 'malignant_neoplasms_of_eye_brain_and_other_parts_of_central_nervous_system', 'malignant_neoplasms_of_thyroid_and_other_endocrine_glands', 'malignant_neoplasms_of_other_secondary_and_unspecified_sites', 'malignant_neuroendocrine_tumors', 'secondary_neuroendocrine_tumors', 'malignant_neoplasms_of_lymphoid_hematopoietic_and_related_tissue']
malignancy_excl_var=ClinicalVariable('serious malignancy exclusion')

for name, codes in zip(malignant_categories,malignant_category_codes):
    malignancy_excl_var.add_subvariable(subvariable_name=name+"_codes",category='dx',value=codes)
    malignancy_excl_var.add_constraint(['count',[2,30,365],name+'_codes'])

diagnosis_variables.append(malignancy_excl_var)

#Sleep disorders (apnea, RLS, narcolepsy. Insomnia or hypersomia are acceptable)
sleep_disorder_codes=['G47.33', 'G47.35', 'G47.51', '780.57', '327.27', '327.24', 'G47.53', 'G47.59', '327.49', 'G47.6', 'G47.69', '327.29', 'G47.32', '780.50', 'G47.9', 'G47.54', 'G47.39', 'G47.52', '327.25', '327.52', 'G47.63', '347.01', 'G47.421', 'G47.4', '327.43', '327.51', '327.59', 'G47.8', 'G47.31', 'G47.62', 'G47.411', '347.10', 'G47.5', '327.8', 'G47.34', 'G47.36', '347.00', '327.23', '327.40', '327.41', 'G47.61', '327.44', '347.11', 'G47.419', 'G47.50', '327.21', '780.51', '780.59', '780.53', 'G47.37', '327.22', 'G47.3', 'G47.30', '780.56', 'G47.429', '327.20', '327.42', '327.26', '327.53']
sleep_disorder_excl_var=ClinicalVariable('sleep disorder exclusion')
sleep_disorder_excl_var.add_subvariable(subvariable_name='sleep_disorder_codes',category='dx',value=sleep_disorder_codes)
diagnosis_variables.append(sleep_disorder_excl_var)

#Seizure disorder (besides childhood febrile seizure)
seizure_codes=['345.10', '345.60', '345.51', 'G40.401', 'G40.209', '345.81', '345.70', '345.40', '345.00', '345.50', 'G40.311', '345.90', 'G40.109', 'G40.419', 'G40.A11', 'G40.111', 'G40.804', 'G40.911', '345.2', '345.01', 'G40.101', 'G40.201', '345.11', 'G40.509', 'G40.919', 'G40.309', 'G40.A01', '345.41', 'G40.909', 'G40.211', '345.71', 'G40.501', 'G40.A19', '345.80', 'G40', 'G40.802', 'G40.901', 'G40.822', 'G40.411', 'G40.823', 'G40.409', 'G40.219', 'G40.A09', 'G40.119', 'G40.824', 'G40.301', 'G40.821', '345.61', '345.3', '345.91']
seizure_excl_var=ClinicalVariable('seizure exclusion')
seizure_excl_var.add_subvariable(subvariable_name='seizure_codes',category='dx',value=seizure_codes)
diagnosis_variables.append(seizure_excl_var)

#Severe renal impairment
severe_renal_impairment_codes=['Z49.32', '585.6', '404.12', 'V56.0', 'Z99.2', '403.11', '404.13', 'Z49.01', 'I12.0', 'V56.8', 'T85.631', 'N18.6', 'V45.11', '585.5', '585.9', 'I13.11', 'N18.4', 'I13.2', 'N18.9', 'V56.1', '403.91', '404.03', 'Z91.15', 'Z49.31', '404.93', 'V56.32', 'Z49.02', 'V56.31', '403.01', '585.4', '404.92', 'V45.12', 'V56.2', 'Z49', '404.02', 'N18.5', 'Z49.0', 'T85.621']
severe_renal_impairment_excl_var=ClinicalVariable('renal dz exclusion')
severe_renal_impairment_excl_var.add_subvariable(subvariable_name='severe_renal_impairment_codes',category='dx',value=severe_renal_impairment_codes)
diagnosis_variables.append(severe_renal_impairment_excl_var)

#Moderate to severe hepatic disease
moderate_severe_hepatic_dz_codes=['K74.3', 'K70', 'K72.10', 'K72.90', '571.0', 'K76.89', 'K74.4', 'K73.8', 'K74.69', 'K73', '571.41', '571.3', 'K70.10', 'K73.2', 'K75.1', '573.9', '573.5', '571.6', '571.8', '573.1', 'K71', '571.2', 'K72', '571.9', 'K75', '572.0', 'K76.7', '571.40', '570', '572.3', '572.8', 'K76', '571.49', '573.2', '572.1', 'K72.91', 'K73.0', 'K77', 'K76.9', 'K76.81', 'K70.9', 'K73.9', '571.5', 'K74', 'K74.60', '571.1', '573.3', '572.2', 'K75.4', '573.0', 'K75.9', 'K71.6', 'K76.2', 'K74.0', 'K70.30', 'K72.00', '572.4', 'K76.6', 'K74.5', 'K75.0', '571.42', 'K76.1', 'K74.1', '573.8', '573.4', 'K76.3','777.8', 'P78.81']
moderate_severe_hepatic_dz_excl_var=ClinicalVariable('hepatic dz exclusion')
moderate_severe_hepatic_dz_excl_var.add_subvariable(subvariable_name='moderate_severe_hepatic_dz_codes',category='dx',value=moderate_severe_hepatic_dz_codes)
diagnosis_variables.append(moderate_severe_hepatic_dz_excl_var)

#Illiteracy
illiteracy_codes=['Z55.0']
illiteracy_excl_var=ClinicalVariable('illiteracy exlcusion')
illiteracy_excl_var.add_subvariable(subvariable_name='illiteracy_codes',category='dx',value=illiteracy_codes)
diagnosis_variables.append(illiteracy_excl_var)
"""
    finalize all variables. If no constraints specified for a subvariable, adds default constraint of count of 1 
    for that subvariable value(i.e. as long as that lab value/diagnosis/drug is seen, it will match the constraint).
    If constraint specified for a subvariable, does nothing
"""
for clinical_variable in diagnosis_variables:
    clinical_variable.finalize_variable()

